<?xml version="1.0" encoding="UTF-8"?>

<!--
    Document   : update-scheduler-calendar.xml
    Created on : 10 de Noviembre del 2015
    Author     : David FUENTES
    Description: Ventana para la edicion de un calendario, y para anadir/editar/borrar dias al calendario seleccionado
-->

<screen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="@awe.schemas@/screen.xsd" target="SchCal" template="window" label="MENU_SCHEDULER_EDIT_CALENDAR" help="HELP_SCREEN_SCHEDULER_CALENDAR">
  <!--
    MESSAGES
  -->
  <tag source="hidden">
    <message id="NewMsg" title="CONFIRM_TITLE_NEW" message="CONFIRM_MESSAGE_NEW" />
    <message id="DelMsg" title="CONFIRM_TITLE_DELETE" message="CONFIRM_MESSAGE_DELETE" />
    <message id="ActMsg" title="CONFIRM_TITLE_ACTIVATE_TASK" message="CONFIRM_MESSAGE_ACTIVATE_TASK" />
    <message id="DeaMsg" title="CONFIRM_TITLE_DEACTIVATE_TASK" message="CONFIRM_MESSAGE_DEACTIVATE_TASK" />
    <message id="UpdMsg" title="CONFIRM_TITLE_UPDATE" message="CONFIRM_MESSAGE_UPDATE" />
  </tag>
  <!--
    BUTTONS
  -->
  <tag source="buttons">
    <button label="BUTTON_BACK" icon="arrow-left" id="ButAct" help="HELP_BACK_BUTTON">
      <button-action type="screen" target="scheduler_calendars" />
    </button>
    <button label="BUTTON_SCREEN_HELP" icon="question-circle" id="ButHlp" help="HELP_HELP_BUTTON">
      <button-action type="dialog" target="HlpOpt" />
    </button>
    <button label="BUTTON_PRINT" icon="print" id="ButPrn" help="HELP_PRINT_BUTTON">
      <button-action type="validate" />
      <button-action type="dialog" target="PrnOpt" />
    </button>
    <button button-type="button" label="BUTTON_CONFIRM" icon="save" id="ButCnf" help="HELP_CONFIRM_BUTTON">
      <button-action type="validate" target="GrdDatLst"/>
      <button-action type="validate" target="UpdCalCnt" />
      <button-action type="confirm" target="UpdMsg" />
      <button-action type="server" server-action="maintain" target-action="UpdSchCal" />
      <button-action type="filter" target="GrdDatLst" />
    </button>
  </tag>
  <!--
    BODY
  -->
  <tag source="center">
    <criteria id="CalIde" component="hidden" variable="Ide.selected">
      <dependency >
        <dependency-element id="CalIde"/>
        <dependency-action type="screen" target="scheduler-calendars" />
      </dependency>
    </criteria>
    <window style="static criteria" label="SCREEN_TEXT_CALENDAR" icon="calendar">
      <tag id="UpdCalCnt" type="div" style="panel-body static">
        <criteria label="PARAMETER_NAME" component="text" id="CalNme" style="col-xs-12 col-sm-6 col-lg-2" validation="required" />
        <criteria label="PARAMETER_DESCRIPTION" component="text" id="CalDes" style="col-xs-12 col-sm-6 col-lg-4" validation="required" />
        <criteria label="PARAMETER_ACTIVE" component="select" initial-load="enum" target-action="Es1Es0" id="CalAct" style="hidden" validation="required" />
      </tag>
    </window>
    <window style="expand" maximize="true" label="SCREEN_TEXT_CALENDAR_DATES" icon="list">
      <grid id="GrdDatLst" style="expand" server-action="data" target-action="SchCalDatLst" send-operations="true" editable="true" autoload="true">
        <column name="IdeDat" hidden="true" />
        <column label="COLUMN_DAT" type="date" component="date" name="Dat" sort-field="Dat" align="left" charlength="20" validation="required"/>
        <column label="PARAMETER_NAME" component="text" name="Nom" sort-field="Nom" align="left" charlength="40"/>
        <button label="BUTTON_NEW" icon="plus-circle" id="ButDatAdd">
          <button-action type="add-row" target="GrdDatLst" silent="true" />
        </button>
        <button label="BUTTON_DELETE" icon="trash" id="ButDatDel">
          <button-action type="delete-row" target="GrdDatLst" silent="true" />
          <dependency target-type="enable" initial="true">
            <dependency-element id="GrdDatLst" attribute="selectedRows" condition="eq" value="1" />
          </dependency>
        </button>
      </grid>
    </window>
  </tag>
  <!--
    POP-UPs
  -->
  <tag source="modal">
    <include target-screen="PrnOpt" target-source="center" />
    <include target-screen="screen-help" target-source="center"/>
  </tag>
</screen>
